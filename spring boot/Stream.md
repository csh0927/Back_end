# Stream

스트림을 이용하면 선언형으로 기존의 컬렉션 데이터들을 처리할 수 있게된다. 쉽게 생각하면 컬렉션 반복을 좀 더 효율적이고 간편하게 수행할 수 있는 방법이라고 볼 수 있다. 또한 데이터 병렬 처리에도 용이한 장점이 있다.

자바에서 스트림을 쉽게 이해하기 위해 예를 들면 물고기가 그물에 걸러지고 일정한 규격으로 포장한 뒤 소비자에게 전달되는 것이다.

흐름속을 헤엄쳐 다니는 물고기와 해양 생물들은 컬렉션 데이터라 할 수 있다. 데이터들은 스트림을 유영하다가 그물에 걸러진다. 코드에서는 `filter` 로 표현 되는 부분이다. `filter` 에 걸러진 데이터들은 이제 일정한 규격으로 포장이 되게 되는데 코드에서는 `map` 으로 표현된다. 그리고 마지막으로 소비자에게 배달 되는 것이 collect라고 할 수 있다.

* 물결이 한 번 흐르고 나면 다시 되돌아 올 수 없듯, 스트림 역시 한 번만 소비할 수 있다.

**장점**
스트림을 활용하게 되면 선언저긍로 코드를 구현할 수 있기 때문에 일정부분 코드의 가독성이 올라간다. 또 `filter, map, sorted, collect` 등과 같은 다양한 빌딩 블록 연산을 통해 다양한 파이프라인을 구성할 수 있다. 그리고 이런 연산 블록들은 병렬연산에 자유롭기 때문에 병렬화를 통해 성능을 향상시킬 수 있다.

* 병렬화란 순차적인 직렬 프로그램을 분할하고 분할된 단위를 동시에 병렬로 수행함으로써 성능을 향상시키는 프로그래밍 기술이다.

**컬렉션과 스트림**

* 컬렉션은 현재 자료구조에 포함된 모든 값을 계산한 다음에 컬렉션에 추가할 수있다.(적극적 생성, 모든 값을 계산할 때까지 기다린다.)
* 스트림은 필요할 때 값을 계산한다.(게으른 생성, 필요할 때만 값을 계산한다는 의미이다.)

비유를 해보면 컬렉션은 팔기도 전에 창고를 가득 채우며 적극적 생산하고 스트림은 요청하는 값만 스트림에서 추출한다.

컬렉션은 데이터를 반복해서 사용할 수 있고 스트림은 데이터를 단 한번만 소비할 수 있다.