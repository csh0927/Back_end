# IoC

#### Inversion of Control(제어의 역전)

DI(의존성 주입)을 이해하기 위해서는 IoC의 개념을 알고 넘어가야한다. 스프링을 쓰기 전에는 개발자가 프로그램의 흐름을 제어하는 주체였다. 하지만 스프링에선 프로그램의 흐름을 프레임워크가 주도하게 된다.
객체의 생성 ~ 생명주기 관리를 컨테이너가 도맡아서 하게 된 것이다. 즉 제어권이 컨테이너로 넘어가게 되고, 이것을 제어권의 흐름이 바뀌었다고 하여 IoC(제어의 역전)이라고 한다.
제어권이 컨테이너로 넘어옴으로써 의존성 주입 등이 가능하게 된다.

## DI

#### Dependency Injection(의존성 주입)

객체간의 의존성을 자신이 아닌 외부에서 주입하는 개념이다. 3가지 타입으로 정의할 수 있다.

* 생성자를 통해 주입하는 방식

  인스턴스가 생성되었을 때 의존성이 존재하는 것이 보장되기 때문에 의존성의 존재여부가 보장된다. 스프링에서도 해당 방식을 권장하고있다.

* Setter 메소드를 이용하여 주입하는 방식

  해당방식은 생성자를 통한 주입방식 보다 좀 더 주의를 요한다. 주입 받는 의존성의 기본값을 정의할 수 있지 않다면 null값이 존재할 수 있는 이슈가 있기 때문이다. 의존성이 다시 주입되어야 할 경우 유용하게 사용되지만 대부분 생성자 주입 방식으로 해결 할 수 있다.

* 필드를 이용하여 주입하는 방식

  필드 주입방식은 읽기 쉽고, 사용하기 편하지만 final을 선언할 수 없고 별다른 장점이 없다. 

선배가 말씀하시길, DI는 직접적으로 연결된 것이 아닌 주머니(?)에서 꺼내와 연결하는 것이라고 한다. 직접적으로 연결하면 많은 문제에 노출되기 때문에 이러하게 연결하는 것이라 한다. (물건을 다른사람과 직거래 하는것과 기업에 넘어온 물건을 우리가 구매하는 것의 차이이다. 직거래는 사기 확률이 높지만 기업을 통해 하는 거래는 사기 확률이 현저히 적은 것과 같다.)